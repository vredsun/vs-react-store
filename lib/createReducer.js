"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _state_contorol = require("./_state_contorol");

var createReducer = function createReducer(initStore, handlers, handleChangeState) {
  var reducer = function reducer(state, action) {
    var newState = state;

    if (handlers.hasOwnProperty(action === null || action === void 0 ? void 0 : action.type)) {
      var tempNewState = handlers[action.type](state, action);

      if (JSON.stringify(tempNewState) !== JSON.stringify(newState)) {
        newState = tempNewState;

        if (handleChangeState) {
          handleChangeState(newState);
        }
      }
    }

    return newState;
  };

  (0, _state_contorol.setDefaultValueToReducer)(reducer, initStore());
  return reducer;
};

var _default = createReducer;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy92c19yZWFjdF9zdG9yZS9jcmVhdGVSZWR1Y2VyLnRzIl0sIm5hbWVzIjpbImNyZWF0ZVJlZHVjZXIiLCJpbml0U3RvcmUiLCJoYW5kbGVycyIsImhhbmRsZUNoYW5nZVN0YXRlIiwicmVkdWNlciIsInN0YXRlIiwiYWN0aW9uIiwibmV3U3RhdGUiLCJoYXNPd25Qcm9wZXJ0eSIsInR5cGUiLCJ0ZW1wTmV3U3RhdGUiLCJKU09OIiwic3RyaW5naWZ5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBWUEsSUFBTUEsYUFBYSxHQUFHLFNBQWhCQSxhQUFnQixDQUNwQkMsU0FEb0IsRUFFcEJDLFFBRm9CLEVBR3BCQyxpQkFIb0IsRUFJbUI7QUFDdkMsTUFBTUMsT0FBTyxHQUFHLFNBQVZBLE9BQVUsQ0FBQ0MsS0FBRCxFQUFvQkMsTUFBcEIsRUFBMEQ7QUFDeEUsUUFBSUMsUUFBUSxHQUFHRixLQUFmOztBQUVBLFFBQUlILFFBQVEsQ0FBQ00sY0FBVCxDQUF3QkYsTUFBeEIsYUFBd0JBLE1BQXhCLHVCQUF3QkEsTUFBTSxDQUFFRyxJQUFoQyxDQUFKLEVBQTJDO0FBQ3pDLFVBQU1DLFlBQVksR0FBR1IsUUFBUSxDQUFDSSxNQUFNLENBQUNHLElBQVIsQ0FBUixDQUFzQkosS0FBdEIsRUFBNkJDLE1BQTdCLENBQXJCOztBQUNBLFVBQUlLLElBQUksQ0FBQ0MsU0FBTCxDQUFlRixZQUFmLE1BQWlDQyxJQUFJLENBQUNDLFNBQUwsQ0FBZUwsUUFBZixDQUFyQyxFQUErRDtBQUM3REEsUUFBQUEsUUFBUSxHQUFHRyxZQUFYOztBQUVBLFlBQUlQLGlCQUFKLEVBQXVCO0FBQ3JCQSxVQUFBQSxpQkFBaUIsQ0FBQ0ksUUFBRCxDQUFqQjtBQUNEO0FBQ0Y7QUFDRjs7QUFFRCxXQUFPQSxRQUFQO0FBQ0QsR0FmRDs7QUFpQkEsZ0RBQXlCSCxPQUF6QixFQUFrQ0gsU0FBUyxFQUEzQztBQUVBLFNBQU9HLE9BQVA7QUFDRCxDQXpCRDs7ZUEyQmVKLGEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZXREZWZhdWx0VmFsdWVUb1JlZHVjZXIgfSBmcm9tICcuL19zdGF0ZV9jb250b3JvbCc7XG5cbmV4cG9ydCB0eXBlIFZzQWN0aW9uPFA+ID0ge1xuICB0eXBlOiBzdHJpbmc7XG4gIHBheWxvYWQ6IFA7XG59O1xuXG5leHBvcnQgdHlwZSBSZWR1Y2VyPFMsIEEgZXh0ZW5kcyBWc0FjdGlvbjxhbnk+PiA9IChcbiAgc3RhdGU6IFMgfCB1bmRlZmluZWQsXG4gIGFjdGlvbjogQVxuKSA9PiBTO1xuXG5jb25zdCBjcmVhdGVSZWR1Y2VyID0gPFN0b3JlU3RhdGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+PihcbiAgaW5pdFN0b3JlOiAoKSA9PiBTdG9yZVN0YXRlLFxuICBoYW5kbGVyczogUmVjb3JkPHN0cmluZywgPEEgZXh0ZW5kcyBWc0FjdGlvbjxhbnk+PihzdGF0ZTogU3RvcmVTdGF0ZSwgYWN0aW9uOiBBKSA9PiBTdG9yZVN0YXRlPixcbiAgaGFuZGxlQ2hhbmdlU3RhdGU/OiAoc3RhdGU6IFN0b3JlU3RhdGUpID0+IHZvaWQsXG4pOiBSZWR1Y2VyPFN0b3JlU3RhdGUsIFZzQWN0aW9uPGFueT4+ID0+IHtcbiAgY29uc3QgcmVkdWNlciA9IChzdGF0ZTogU3RvcmVTdGF0ZSwgYWN0aW9uOiBWc0FjdGlvbjxhbnk+KTogU3RvcmVTdGF0ZSA9PiB7XG4gICAgbGV0IG5ld1N0YXRlID0gc3RhdGU7XG5cbiAgICBpZiAoaGFuZGxlcnMuaGFzT3duUHJvcGVydHkoYWN0aW9uPy50eXBlKSkge1xuICAgICAgY29uc3QgdGVtcE5ld1N0YXRlID0gaGFuZGxlcnNbYWN0aW9uLnR5cGVdKHN0YXRlLCBhY3Rpb24pO1xuICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KHRlbXBOZXdTdGF0ZSkgIT09IEpTT04uc3RyaW5naWZ5KG5ld1N0YXRlKSkge1xuICAgICAgICBuZXdTdGF0ZSA9IHRlbXBOZXdTdGF0ZTtcblxuICAgICAgICBpZiAoaGFuZGxlQ2hhbmdlU3RhdGUpIHtcbiAgICAgICAgICBoYW5kbGVDaGFuZ2VTdGF0ZShuZXdTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3U3RhdGU7XG4gIH07XG5cbiAgc2V0RGVmYXVsdFZhbHVlVG9SZWR1Y2VyKHJlZHVjZXIsIGluaXRTdG9yZSgpKTtcblxuICByZXR1cm4gcmVkdWNlcjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVJlZHVjZXI7XG4iXX0=